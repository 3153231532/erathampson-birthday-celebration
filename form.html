<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>🎁 Wish Chrispus & Contribute</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- FontAwesome -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
</head>
  
   <body style="margin:0; padding:0; height:100vh; box-sizing:border-box; background: url('bd\ 100.avif') no-repeat center center fixed; background-size: cover; font-family: sans-serif; color: white;">

  <div style="background: rgba(0,0,0,0.6); margin: 20px auto; padding: 20px; border-radius: 12px; width: 90%; max-width: 400px;">
    <!-- Wish Heading and Image -->
<div style="display:flex; align-items:center; justify-content:center; flex-wrap:wrap; margin-bottom:12px; gap:14px;">

  <!-- Chrispus Image with Bottom Fade -->
  <div style="position:relative; width:140px; height:140px; overflow:hidden; border-radius:12px;">
    <img src="adoko chrispus ccd.png" alt="Adoko Chrispus" style="width:100%; height:auto; display:block;">
    <div style="position:absolute; bottom:0; left:0; width:100%; height:40%; background:linear-gradient(to top, rgba(0,0,0,0.6), transparent);"></div>
  </div>

 <!-- Container for heading + fireworks -->
<div style="position: relative; max-width: 360px; margin: 0 auto; padding: 10px;">

  <!-- Left Firework -->
  <div style="
    position: absolute; top: 50%; left: 0; transform: translateY(-50%);
    width: 40px; height: 40px;
    pointer-events: none;
    animation: firework-burst 2.5s infinite;
    ">
    <svg viewBox="0 0 64 64" style="width: 100%; height: 100%; fill: gold;">
      <circle cx="32" cy="32" r="4" />
      <line x1="32" y1="4" x2="32" y2="16" stroke="gold" stroke-width="2" />
      <line x1="32" y1="48" x2="32" y2="60" stroke="gold" stroke-width="2" />
      <line x1="4" y1="32" x2="16" y2="32" stroke="gold" stroke-width="2" />
      <line x1="48" y1="32" x2="60" y2="32" stroke="gold" stroke-width="2" />
      <line x1="14" y1="14" x2="22" y2="22" stroke="gold" stroke-width="2" />
      <line x1="42" y1="42" x2="50" y2="50" stroke="gold" stroke-width="2" />
      <line x1="42" y1="22" x2="50" y2="14" stroke="gold" stroke-width="2" />
      <line x1="14" y1="50" x2="22" y2="42" stroke="gold" stroke-width="2" />
    </svg>
  </div>

  <!-- Right Firework -->
  <div style="
    position: absolute; top: 50%; right: 0; transform: translateY(-50%);
    width: 40px; height: 40px;
    pointer-events: none;
    animation: firework-burst 2.5s infinite 1.25s;
    ">
    <svg viewBox="0 0 64 64" style="width: 100%; height: 100%; fill: gold;">
      <circle cx="32" cy="32" r="4" />
      <line x1="32" y1="4" x2="32" y2="16" stroke="gold" stroke-width="2" />
      <line x1="32" y1="48" x2="32" y2="60" stroke="gold" stroke-width="2" />
      <line x1="4" y1="32" x2="16" y2="32" stroke="gold" stroke-width="2" />
      <line x1="48" y1="32" x2="60" y2="32" stroke="gold" stroke-width="2" />
      <line x1="14" y1="14" x2="22" y2="22" stroke="gold" stroke-width="2" />
      <line x1="42" y1="42" x2="50" y2="50" stroke="gold" stroke-width="2" />
      <line x1="42" y1="22" x2="50" y2="14" stroke="gold" stroke-width="2" />
      <line x1="14" y1="50" x2="22" y2="42" stroke="gold" stroke-width="2" />
    </svg>
  </div>

  <!-- Heading Text -->
  <h2 style="
    color: gold; font-size: 22px; text-align: center; margin: 0; line-height: 1.6;
    text-shadow: 0 0 8px rgba(255, 215, 0, 0.8), 0 0 20px rgba(255, 215, 0, 0.5);
    font-weight: 700;
    ">
    <i class="fas fa-birthday-cake"></i> Celebrate With ERATHAMPSON
    <span style="font-size: 16px; color: white; display: block; margin-top: 5px; line-height: 1.4;">
      Join the joyful countdown to a grand birthday event for<br>
      <strong style="color: lightyellow;">Adoko Chrispus (ERATHAMPSON)</strong> on <strong>28th June</strong> 🎉<br>
      Your heartfelt wishes and support make all the difference!
    </span>
  </h2>
</div>

<!-- Inline CSS Animation -->
<style>
  @keyframes firework-burst {
    0%, 100% {
      opacity: 0.6;
      transform: translateY(-50%) scale(1);
    }
    50% {
      opacity: 1;
      transform: translateY(-50%) scale(1.3);
    }
  }

  /* Responsive scaling for smaller screens */
  @media (max-width: 400px) {
    div[style*="position: absolute"] {
      width: 30px !important;
      height: 30px !important;
    }
    h2 {
      font-size: 18px !important;
    }
    h2 span {
      font-size: 14px !important;
    }
  }
</style>

</div>

  <div style="width:100%; height:100%; display:flex; justify-content:center; align-items:center; padding:15px; box-sizing: border-box; overflow-y:auto;">
    <div style="background: rgba(0,0,0,0.65); padding: 18px; border-radius: 12px; width: 100%; max-width: 360px; box-sizing: border-box;">
      
      
      
      <!-- Name -->
      <label style="display:block; margin-top:10px;"><i class="fas fa-user" style="color:gold;"></i> Name</label>
      <input type="text" id="name" placeholder="Enter your name" style="width:95%; padding:8px; border:none; border-radius:6px; margin-top:4px;">

      <!-- Country -->
      <label style="display:block; margin-top:10px;"><i class="fas fa-globe" style="color:lightblue;"></i> Country</label>
      <select id="country" onchange="updateCountryData()" style="width:100%; padding:8px; border:none; border-radius:6px; margin-top:4px;">
        <option value="">-- Select Country --</option>
        <option value="ug">🇺🇬 Uganda</option>
        <option value="ke">🇰🇪 Kenya</option>
        <option value="tz">🇹🇿 Tanzania</option>
        <option value="rw">🇷🇼 Rwanda</option>
        <option value="bi">🇧🇮 Burundi</option>
        <option value="ss">🇸🇸 South Sudan</option>
      </select>

      <!-- Phone -->
      <label style="display:block; margin-top:10px;"><i class="fas fa-phone-alt" style="color:lightgreen;"></i> Phone</label>
      <div id="codePrefix" style="margin-bottom:5px; font-weight:bold;">+XXX</div>
      <input type="text" id="phone" placeholder="Enter phone number" style="width:95%; padding:8px; border:none; border-radius:6px; margin-top:4px;">

      <!-- Residence -->
      <label style="display:block; margin-top:10px;"><i class="fas fa-home" style="color:orange;"></i> Current Residence</label>
      <input type="text" id="residence" placeholder="e.g. Kampala, Uganda" style="width:95%; padding:8px; border:none; border-radius:6px;">

      <!-- Do you want to contribute? -->
      <label style="margin-top:10px; display:block;">Would you like to contribute?</label>
      <label><input type="radio" name="contribute" value="yes" onclick="toggleAmount(true)"> Yes</label>
      <label><input type="radio" name="contribute" value="no" onclick="toggleAmount(false)" checked> No</label>

      <!-- Amount -->
      <div id="amountSection" style="display:none; margin-top:10px;">
        <label><i class="fas fa-money-bill" style="color:lime;"></i> Amount (<span id="currency">Currency</span>)</label>
        <input type="number" id="amount" placeholder="Enter amount" style="width:95%; padding:8px; border:none; border-radius:6px;">
      </div>

      <!-- Message -->
      <label style="display:block; margin-top:10px;"><i class="fas fa-comment" style="color:skyblue;"></i> Message</label>
      <textarea id="message" rows="3" placeholder="Your message to Chris..." style="width:95%; padding:8px; border:none; border-radius:6px;"></textarea>

      <!-- Payment Buttons -->
      <div id="paymentOptions" style="margin-top:15px;"></div>

      <!-- Submit -->
      <button onclick="submitForm()" style="margin-top:20px; width:100%; background:gold; color:black; padding:10px; font-weight:bold; border:none; border-radius:8px; cursor:pointer;">
        🎁 Submit Wish
      </button>
    </div>
  </div>

  <!-- Firebase Setup -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD6ViagGfPE6Pb3Ml1J2xWHhjGx53WlNOo",
      authDomain: "birthdaycontributions.firebaseapp.com",
      databaseURL: "https://birthdaycontributions-default-rtdb.firebaseio.com",
      projectId: "birthdaycontributions",
      storageBucket: "birthdaycontributions.firebasestorage.app",
      messagingSenderId: "147686327811",
      appId: "1:147686327811:web:ceae1ecd8f56fadeff7036"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
  </script>

  <!-- Country Logic + Form Logic -->
  <script>
    const countryData = {
      ug: { code: "+256", currency: "UGX", mtn: "*165*1*1#", airtel: "*185*1#", networks: ["mtn", "airtel"] },
      ke: { code: "+254", currency: "KES", mtn: null, airtel: "*150*1#", networks: ["airtel"] },
      tz: { code: "+255", currency: "TZS", mtn: "*150*00#", airtel: "*150*60#", networks: ["mtn", "airtel"] },
      rw: { code: "+250", currency: "RWF", mtn: "*182#", airtel: null, networks: ["mtn"] },
      bi: { code: "+257", currency: "BIF", mtn: null, airtel: "*123#", networks: ["airtel"] },
      ss: { code: "+211", currency: "SSP", mtn: "*180#", airtel: "*182#", networks: ["mtn", "airtel"] }
    };

    function updateCountryData() {
      const selected = document.getElementById("country").value;
      const phoneCode = document.getElementById("codePrefix");
      const currencyLabel = document.getElementById("currency");
      const paymentOptions = document.getElementById("paymentOptions");

      if (!selected) return;

      const data = countryData[selected];
      phoneCode.innerText = data.code;
      currencyLabel.innerText = data.currency;

      // Reset and create buttons
      paymentOptions.innerHTML = "";
      if (data.networks.includes("mtn")) {
  const btn = document.createElement("button");
  btn.innerHTML = "Pay via MTN";
  btn.style = "width:100%; margin-top:10px; padding:10px; background:yellow; border:none; border-radius:6px; color:black; font-weight:bold; cursor:pointer;";
  btn.onclick = () => {
    alert(`Dial ${data.mtn} then follow to send to +256780265508 (Adoko Chrispus)`);
    window.location.href = "tel:" + encodeURIComponent(data.mtn);
  };
  paymentOptions.appendChild(btn);
}

if (data.networks.includes("airtel")) {
  const btn = document.createElement("button");
  btn.innerHTML = "Pay via Airtel";
  btn.style = "width:100%; margin-top:10px; padding:10px; background:red; border:none; border-radius:6px; color:white; font-weight:bold; cursor:pointer;";
  btn.onclick = () => {
    alert(`Dial ${data.airtel} then follow to send to +256741813093 (William Aheshibwe)`);
    window.location.href = "tel:" + encodeURIComponent(data.airtel);
  };
  paymentOptions.appendChild(btn);
}

    }

    function toggleAmount(show) {
      document.getElementById("amountSection").style.display = show ? "block" : "none";
    }

    function submitForm() {
      const name = document.getElementById("name").value;
      const country = document.getElementById("country").value;
      const phone = document.getElementById("phone").value;
      const residence = document.getElementById("residence").value;
      const contribute = document.querySelector('input[name="contribute"]:checked').value;
      const amount = contribute === "yes" ? document.getElementById("amount").value : "0";
      const message = document.getElementById("message").value;

      if (!name || !country || !phone) {
        alert("Please fill all required fields.");
        return;
      }

      const ref = database.ref("wishers").push();
      ref.set({
        name, country, phone, residence, contribute, amount, message, status: contribute === "yes" ? "Pending" : "Not Paid"
      }).then(() => {
        window.location.href = "confirm.html?name=" + encodeURIComponent(name);
      });
    }
    

    
  </script>

  
</body>
</html>
